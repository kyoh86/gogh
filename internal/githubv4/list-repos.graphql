fragment Page on PageInfo {
  endCursor
  hasNextPage
}

fragment Repo on Repository {
  url
  homepageUrl
  primaryLanguage {
    name
  }
  name
  owner {
    login
  }
  description
  createdAt
  isArchived
  isFork
  isPrivate
  isTemplate
  pushedAt
  parent {
    name
    owner {
      login
    }
  }
}

query ListRepos($first: Int = 30, $after: String, $isFork: Boolean, $privacy: RepositoryPrivacy, $ownerAffiliations: [RepositoryAffiliation], $orderBy: RepositoryOrder = {field: PUSHED_AT, direction: DESC}) {
  viewer {
    repositories(first: $first, after: $after, isFork: $isFork, privacy: $privacy, ownerAffiliations: $ownerAffiliations, orderBy: $orderBy) {
      edges {
        node {
          ...Repo
        }
      }
      totalCount
      pageInfo {
        ...Page
      }
    }
  }
}
